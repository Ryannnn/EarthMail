*** Settings ***
Documentation  This is your first test
Library  Selenium2Library

*** Test Cases ***
Send normal mail Test
    send mail  Test1  foamtea30@gmail.com,csd@chaifeng.com  Hello1
Send mail without title Test
    send mail  \  foamtea30@gmail.com,csd@chaifeng.com  Hello2
Send mail without body Test
    send mail  Test2  foamtea30@gmail.com,csd@chaifeng.com  \
Send normal mail to wrong recipient
    send mail  Test3  foamtea30  Hello3
Send normal mail to single recipient
    send mail  Test4  foamtea30@gmail.com  Hello4
Send normal mail to multi-recipients contain non existed address    
    send mail  Test5  foamtea30@gmail.com,nonexist@example.com  Hello5
Send normal mail to multi-recipients divided by ";"
    send mail  Test5  foamtea30@gmail.com;csd@chaifeng.com  Hello6
    
*** Keywords ***
send mail  [arguments]  ${topic}  ${recipients}  ${body}
    Open Browser  http://localhost:8080/EarthMail
    Page Should Contain Textfield  id=topic
    Page Should Contain Textfield  id=recipients
    Page Should Contain Textfield  id=body
    Page Should contain Button  id=send  value=Send
   
    Input Text  topic  ${topic}
    Input Text  recipients  ${recipients}
    Input Text  body  ${body}
   
    Click Button  send
                        
    Close Browser